<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>麦客园 (编程)</title><link>http://mc.basebb.com/</link><description></description><atom:link href="http://mc.basebb.com/categories/bian-cheng.xml" type="application/rss+xml" rel="self"></atom:link><language>zh_cn</language><lastBuildDate>Fri, 10 Jan 2014 01:36:53 GMT</lastBuildDate><generator>nikola</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>两个非常有用的Bash脚本编程命令</title><link>http://mc.basebb.com/posts/strong-bash.html</link><description>&lt;div&gt;&lt;p&gt;Shell脚本可以完成很多任务，但因为Shell脚本运行时遇到异常还是会继续运行，这些问题有时很难发现，所以有两个命令可以帮助你来调试脚本，这是非常有用的命令。&lt;/p&gt;
&lt;h3&gt;命令一：使用 Set -u&lt;/h3&gt;
&lt;p&gt;你有没有因为一个变量没有初始化而经常崩溃？我知道我有，而且很多次。&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="nv"&gt;chroot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;
...
rm -rf &lt;span class="nv"&gt;$chroot&lt;/span&gt;/usr/share/doc
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果你忘记初始化一个变量就运行上面的脚本，你将会删除所有的系统文件，而不是只在chroot目录下的文档。你要做些什么呢？幸运的是bash为您提供了&lt;code&gt;set -u&lt;/code&gt;，当你尝试使用一个未初始化的变量将会自动退出脚本。&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;mike% bash /tmp/shrink-chroot.sh
&lt;span class="nv"&gt;$chroot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
mike% bash -u /tmp/shrink-chroot.sh
/tmp/shrink-chroot.sh: line 3: &lt;span class="nv"&gt;$1&lt;/span&gt;: unbound variable
mike%
&lt;/pre&gt;&lt;/div&gt;


&lt;p class="more"&gt;&lt;a href="http://mc.basebb.com/posts/strong-bash.html"&gt;更多…&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description><category>Bash</category><category>编程</category><category>命令</category><guid>http://mc.basebb.com/posts/strong-bash.html</guid><pubDate>Tue, 13 Aug 2013 15:55:02 GMT</pubDate></item></channel></rss>